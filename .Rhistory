??sas7bdat
install.packages("sas7bdat")
?sas7bdat
??sas7bdat
install.packages("pROC")
library(pROC)
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_prem.csv", header=TRUE)
attach(data)
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_general.csv", header=TRUE)
attach(data)
par(mai=c(1.02,1.25,0.05,0.3),mgp=c(1.5,0.5,0))
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_post.csv", header=TRUE)
attach(data)
par(mai=c(1.02,1.25,0.05,0.3),mgp=c(1.5,0.5,0))
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_prem.csv", header=TRUE)
attach(data)
par(mai=c(1.02,1.25,0.05,0.3),mgp=c(1.5,0.5,0))
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
install.packages("pROC")
source('D:/Abbott/ROMA/figure/output/roc_general.R')
layout(matrix(c(1,2,3),byrow=TRUE,ncol=1),heights=c(1.2,5.6,1.2),respect=FALSE)
#1 Region Title part.
par(mar=c(0,0,0,0))
plot(log(0),xlim=c(0,10),ylim=c(0,13),xaxt="n",type="n",axes=FALSE,xlab="",ylab="")
text(x=5,y=3,labels="Fig.1 HE4,CA125 and ROMA in the differential diagnosis of \n EOC and benign gynaecological diseases",adj=c(0.5,0.5),cex=1.4,col=1,font=2)
text(x=5,y=1,labels="",adj=c(0.5,0.5),cex=1.1,col=1,font=2)
#2 Draw graphs.
library(pROC)
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_general.csv", header=TRUE)
attach(data)
par(mai=c(1.02,1.25,0.05,0.3),mgp=c(1.5,0.5,0))
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
# Legends.
lgd<-c(auc1,auc2,auc3)
legend(0.5,0.03,lgd,ncol=1,bg='white',lwd=1,lty=c(1,2,3),xjust=0,cex=1.4,yjust=0,xpd=TRUE)
# Footnote part.
par(mar=c(0,0,0,0),mgp=c(1.5,0.5,0))
plot(log(0),xlim=c(0,10),ylim=c(0,5),xaxt='n',type='n',axes=FALSE,xlab='',ylab='')
segments(0,4.9,10,4.9,lwd=1.5)
text(x=0,y=4.7,labels="",adj=c(0,1),font=1,col=1,cex=1.3)
windowsFonts(Times=windowsFont('TT Times New Roman'))
win.metafile(filename="D:/Abbott/ROMA/figure/output/roc_general.emf",width=6.7,height=9)
par(family='Times')
layout(matrix(c(1,2,3),byrow=TRUE,ncol=1),heights=c(1.2,5.6,1.2),respect=FALSE)
#1 Region Title part.
par(mar=c(0,0,0,0))
plot(log(0),xlim=c(0,10),ylim=c(0,13),xaxt="n",type="n",axes=FALSE,xlab="",ylab="")
text(x=5,y=3,labels="Fig.1 HE4,CA125 and ROMA in the differential diagnosis of \n EOC and benign gynaecological diseases",adj=c(0.5,0.5),cex=1.4,col=1,font=2)
text(x=5,y=1,labels="",adj=c(0.5,0.5),cex=1.1,col=1,font=2)
#2 Draw graphs.
library(pROC)
data<-read.csv("D:/Abbott/ROMA/figure/output/roc_general.csv", header=TRUE)
attach(data)
par(mai=c(1.02,1.25,0.05,0.3),mgp=c(1.5,0.5,0))
roc1<-roc(diagnose,ROMAN,plot=TRUE,lty=1,auc=TRUE,legacy.axes=TRUE)
roc2<-roc(diagnose,HE4,plot=TRUE,lty=2,auc=TRUE,legacy.axes=TRUE,add=TRUE)
roc3<-roc(diagnose,CA125,plot=TRUE,lty=3,auc=TRUE,legacy.axes=TRUE,add=TRUE)
test12<-as.numeric(roc.test(roc1,roc2,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test13<-as.numeric(roc.test(roc1,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
test23<-as.numeric(roc.test(roc2,roc3,method="delong",alternative = c("two.sided", "less", "greater"))$p.value)
auc1<-paste('ROMA (',round(as.numeric(roc1$auc),4),')')
auc2<-paste('HE4  (',round(as.numeric(roc2$auc),4),')')
auc3<-paste('CA125 (',round(as.numeric(roc3$auc),4),')')
# Legends.
lgd<-c(auc1,auc2,auc3)
legend(0.5,0.03,lgd,ncol=1,bg='white',lwd=1,lty=c(1,2,3),xjust=0,cex=1.4,yjust=0,xpd=TRUE)
# Footnote part.
par(mar=c(0,0,0,0),mgp=c(1.5,0.5,0))
plot(log(0),xlim=c(0,10),ylim=c(0,5),xaxt='n',type='n',axes=FALSE,xlab='',ylab='')
segments(0,4.9,10,4.9,lwd=1.5)
text(x=0,y=4.7,labels="",adj=c(0,1),font=1,col=1,cex=1.3)
dev.off()
?as.char
?as.character
?as.pvalue
??pvalue
?pvalue
??pvalue
?delong
??delong
?pROC
??pROC
library(xlsx)
setwd("~/GitHub/Getting_and_Cleaning_Data")
dat<-read.xlsx("gas.xlsx",1,colIndex=7:15,rowIndex=18:23)
View(dat)
View(dat)
sum(dat$Zip*dat$Ext,na.rm=T)
library(XML)
?xmlTreeParse
res<-xmlTreeParse('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml',useInternal=TRUE)
res<-xmlTreeParse('restaurants.xml')
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml",
destfile='res.xml',
method="internal" )
zip<-XpathSApply(res,"//zipcode",xmlValue)
?xpathSApply
zip<-xpathSApply(res,"//zipcode",xmlValue)
xmlRoot(res)
xmlName(res)
?xpathSApply
xpathSApply(res,"//zipcode",xmlValue)
doc<-xmlTreeParse('restaurants.xml')
res<-xmlRoot(doc)
zip<-xpathSApply(res,"//zipcode",xmlValue)
xmlName(res)
zip<-xpathSApply(res,"//zipcode",xmlValue)
res[[1]][[2]]
